On this blog and it's architecture:///December 29, 2024///<p>During the past few months, I have been trying to create a small blog engine as an exercise to test my programming capabilities. As I didn't want to pay for a server, I limited myself to using the fronted capabilities that GitHub pages offers for free, limitation that forced me to use the wit in an attempt to bring some capabilities traditionally attributed to the backend to the frontend. In the next few paragraphs I will explain how all of this works and how to take advantage of my already written code.</p>
<p>To get started, here is an overview of the two GitHub repos that compose this project:</p>
<pre><code>Two GitHub repos:     <span style='text-decoration:underline;'>Technical_Blog</span>      <span style='text-decoration:underline;'>Blog_Template</span>     
                            ↓                  ↓
                      hirarchy.json       ${title}.md
In both repos:        index.html          /src (with assets, JS and CSS)              
</code></pre>
<p>As it can be seen in the previous diagram, my blog consists of two GitHub repos: <a href='https://github.com/portaTuimil/Technical_Blog'>Technical_Blog</a> and <a href='https://github.com/portaTuimil/Blog_Generator'>Blog_Generator</a>. The first repo is the frontpage. It contains a summary of all the data of the articles (titles, descriptions, languages available and links) called <a href='https://github.com/portaTuimil/Technical_Blog/blob/master/src/data/hierarchy.json'>hierarchy.json</a> and it serves as a router to all of the articles. The second repo, on the other side, is the one in charge of generating blog entries. It inyects in a  <a href='https://github.com/portaTuimil/Blog_Generator/blob/master/index.html'>html template </a> the content of the different <a href='https://github.com/portaTuimil/Blog_Generator/tree/master/src/articles'>articles</a>. Thanks to this system if I wanted to change the appearence of my blog, I wouldn't have to manually change all the entries, modifying the template would be just enough.</p>
<p>In order to have a better understanding of this mechanisms, let's take a look to the process from the beginning.</p>
<p>When someone accesses the <a href='https://portatuimil.github.io/Technical_Blog/'>frontpage</a> the <a href='https://github.com/portaTuimil/Technical_Blog/blob/master/src/index.js#:~:text=//getJSON()'>getJSON()</a> function is called. This function retrieves the data from <u>hierarchy.json</u> and calls <a href='https://github.com/portaTuimil/Technical_Blog/blob/master/src/index.js#:~:text=//displayJSON()'>displayJSON()</a>, a function that iterates through the already metioned data creating an <u>anchor</u> element for each article, which displays its information and redirects to it when clicked. The anchor element of this blog entry looks like this:</p>
<iframe id='iframe' onload="this.contentWindow.document.documentElement.scrollTop=100" src='https://portatuimil.github.io/Technical_Blog/' frameborder='0' height='200px' scrolling="no"></iframe>
<p>If you looked to your search bar, you would see something like <u>https://portatuimil.github.io/Blog_Generator/?t=onThisBlog</u>. If you look carefully, you can see that it points towards the second GitHub repo <u>https://portatuimil.github.io/Blog_Generator/</u>, and then it passes a parameter <u>?t=onThisBlog</u>.  As I have stated previously, my blog works by inyecting an article in a <u>html fil</u>. What this parameter does is to specify which article is the one require. This parameter is passe to a function called <a href='https://github.com/portaTuimil/Blog_Generator/blob/master/src/index.js#:~:text=URLSearchParams(url)'>URLSearchParams()</a> which is called over <u>window.location.search</u>.</p>
<p>Let's do a experiment. If you press <kbd>F12</kbd> right now, and you write <u>window.location.search</u> in the console, it should return something like:</p>
<pre><code>> window.location.search
  '?t=onThisBlog'
</code></pre>
<p>So, what <u>URLSearchParams(window.location.search)</u> does is to process the previous output in order to generate an object (in my code called <u>urlParams</u>) that asociates parameters and it's corresponding values. A method called <u>get()</u> allows us to read that object and retrieve the wanted value. In this case <u>urlParams.get("t")</u> returns <u>onThisBlog</u>, which is the ID that I gave to this blog.</p>
<p>Now that we know the ID, <a href='https://github.com/portaTuimil/Blog_Generator/blob/master/src/index.js#:~:text=retrieveArticle(title)'>retrieveArticle()</a> is executed. This function is in charge of reading the <u>markdown</u> file that contains the <a href='https://raw.githubusercontent.com/portaTuimil/Blog_Generator/refs/heads/master/src/articles/onThisBlog.md'>article</a> and filling the template with the desired values (date of publication, title, main text, etc.). With this, the process is completed.</p>
<p>As you can probably tell, the process is a little bit messy. Having two different repos is suboptimal but, as I didn't want to use <a href='https://raw.githack.com/faq'>GitHack</a>, it was necessary because GitHub only allows to publish one html file per repo, and this project requires two, the frontpage and the template. Apart from this, other things like having two files storing data is probably something that could be improved but I considered it a good practice because it prevents users that access the frontpage from downloading all the articles data.</p>
<p>As this blog is open source, I would like to encourage everyone to use it's code. The frontpage repo runs on vite so it may be a little bit difficult to understand it's structure but, in case of doubt, I don't have mind answering questions through  GitHub</p>
<p>Happy Coding,</p>
<p>Pablo.</p>
<p>..-. --- .-. ... .. / .- .-.. - .-. --- / -.-. .- -. - . .-. / -.-. --- -. / -- .. --. .-.. .. --- .-. / .--. .-.. . -.-. - .-. --- .-.-.- .-.-.</p>