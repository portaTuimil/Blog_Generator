On this blog and it's architecture:///December 29, 2024///<p>During the past few months, I have been trying to create a small blog engine as an exercise to test my programming capabilities. As I didn't want to pay for a server, I limited myself to using the fronted capabilities that GitHub pages offers for free, limitation that forced me to use the wit in an attempt to bring some capabilities traditionally attributed to the backend to the frontend. In the next few paragraphs I will explain how all of this works and how to take advantage of my already written code.</p>
<p>To get started, here is an overview of the two GitHub repos that compose this project:</p>
<pre><code>Two GitHub repos:     <span style='text-decoration:underline;'>Technical_Blog</span>      <span style='text-decoration:underline;'>Blog_Template</span>     
                            ↓                  ↓
                      hirarchy.json       ${title}.md
In both repos:        index.html          /src (with assets, JS and CSS)              
</code></pre>
<p>As it can be seen in the previous diagram, my blog consists of two GitHub repos: <a href='https://github.com/portaTuimil/Technical_Blog'>Technical_Blog</a> and <a href='https://github.com/portaTuimil/Blog_Generator'>Blog_Generator</a>. The first repo is the frontpage. It contains a summary of all the data of the articles (titles, descriptions, languages available and links) called <a href='https://github.com/portaTuimil/Technical_Blog/blob/master/src/data/hierarchy.json'>hierarchy.json</a> and it serves as a router to all of the articles. The second repo, on the other side, is the one in charge of generating blog entries. It inyects in a  <a href='https://github.com/portaTuimil/Blog_Generator/blob/master/index.html'>html template </a> the content of the different <a href='https://github.com/portaTuimil/Blog_Generator/tree/master/src/articles'>articles</a>. Thanks to this system if I wanted to change the appearence of my blog, I wouldn't have to manually change all the entries, modifying the template would be just enough.</p>
<p>In order to have a better understanding of this mechanisms, let's take a look to the process from the beginning.</p>
<p>When someone accesses the <a href='https://portatuimil.github.io/Technical_Blog/'>frontpage</a> the <a href='https://github.com/portaTuimil/Technical_Blog/blob/master/src/index.js#:~:text=//getJSON()'>getJSON()</a> function is called. This function retrieves the data from <u>hierarchy.json</u> and calls <a href='https://github.com/portaTuimil/Technical_Blog/blob/master/src/index.js#:~:text=//displayJSON()'>displayJSON()</a>, a function that iterates through the already metioned data creating an <u>anchor</u> element for each article, which displays its information and redirects to it when clicked.</p>
<p>The links to these articles look like this: <u>https://portatuimil.github.io/Blog_Generator/?t=onThisBlog</u> (which is what you should see right now in the search bar). If you look carefully, you can see that it points towards the second GitHub repo <u>https://portatuimil.github.io/Blog_Generator/</u>, and then it passes a parameter <u>?t=onThisBlog</u>.  In order to read this parameter, <a href='https://github.com/portaTuimil/Blog_Generator/blob/master/src/index.js#:~:text=URLSearchParams(url)'>URLSearchParams(url)</a> is called over <u>window.location.search</u>.</p>
<p>If you press <kbd>F12</kbd> right now, and you write <u>window.location.search</u> in the console, it should return something like:</p>
<pre><code>> window.location.search
  '?t=onThisBlog'
</code></pre>
<p>So, what <u>URLSearchParams(url)</u> does is to process the previous output in order to generate an object (in my code called <u>urlParams</u>) with a <u>get()</u> method that allows us to get the value of certain parameters. In this case <u>urlParams.get("t")</u> returns <u>onThisBlog</u> and <a href='https://github.com/portaTuimil/Blog_Generator/blob/master/src/index.js#:~:text=retrieveArticle(title)'>retrieveArticle()</a> is called with these values, something like:</p>
<pre><code>> retrieveArticle(URLSearchParams(window.location.search).get("t"))
</code></pre>
<p>This function, <u>retrieveArticle()</u>, is very simple, it's only task is to complete fields of the template with the values contained in the given article (the text of this article is <a href='https://raw.githubusercontent.com/portaTuimil/Blog_Generator/refs/heads/master/src/articles/onThisBlog.md'>this</a>.) </p>
<p>..-. --- .-. ... .. / .- .-.. - .-. --- / -.-. .- -. - . .-. / -.-. --- -. / -- .. --. .-.. .. --- .-. / .--. .-.. . -.-. - .-. --- .-.-.- .-.-.</p>